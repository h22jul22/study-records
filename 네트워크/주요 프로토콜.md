## 주요 프로토콜

-   네트워크 모델의 각 계층은 각기 다른 역할을 수행하면서 상호작용하는 과정을 통해 통신한다.
-   각 계층에서 담당하는 역할은 미리 약속된 일련의 규칙, 즉 프로토콜을 기반으로 수행된다.
-   프로토콜에는 네트워크로 연결된 장치 사이에 주고받는 **데이터의 형식, 의미, 기타 조치 등에 대한 약속**이 정의되어 있다.
-   인터넷을 사용하는 TCP/IP 4 계층은 이더넷, IP, TCP, UDP, QUIC, HTTP 프로토콜을 사용한다.
-   송신 측의 상위 계층에서 데이터를 보내면 하위 계층으로 전달되고, 통신망을 거쳐 전송된 데이터는 수신 측의 하위계층에서 받아 최종적으로 상위 계층에 전달된다.

### 이더넷 (Ethernet)

-   TCP/IP 4 계층 중 1계층인 네트워크 접근 계층에서 사용하는 프로토콜로, 컴퓨터 네트워크에서 데이터를 전송하기 위한 표준화된 방식을 제공한다.
-   네트워크에 연결된 모든 기기는 48비트의 고유한 주소를 가지고 있는데, 이를 MAC(맥) 주소라고 한다.
-   MAC 주소는 해당 기기(하드웨어)에 부여된 고유한 식별 번호이며, 이더넷은 이 MAC 주소를 이용해 데이터를 주고받는다.
-   인터넷 계층에서 사용하는 IP 주소를 네트워크 접근 계층에서 MAC 주소로 변환해서 통신한다.
-   IP 주소가 최종 목적지를 나타내는 주소라면, MAC 주소는 해당 기기와 바로 연결된 장치, 즉 물리적으로 직접 연결된 장치와 통신할 때 사용하는 주소이다.
-   따라서 네트워크 통신을 하려면 IP 주소와 MAC 주소가 모두 필요하다.

### IP (Internet Protocol)

-   TCP/IP 4 계층 중 2계층인 인터넷 계층에서 사용하는 프로토콜로, 네트워크 동신 시 **데이터 전송 경로 설정, 주소 지정** 등을 담당한다.
-   IP는 데이터를 패킷(packet)이라는 작은 단위로 분할해 전송한다.
-   각 패킷은 출발지 IP 주소와 목적지 IP 주소를 가지고 있으며, IP 프로토콜은 이 주소를 이용해 데이터를 목적지로 전송한다.
-   그런데 IP는 데이터를 패킷으로 보내는 역할에만 충실할 뿐 데이터를 어떻게 보낼지에는 관여하지 않는다. 전송 속도가 느리더라도 손실 없이 보낼지, 손실은 있지만 빠르게 보낼지 등을 결정하지 않는다.

### TCP (Transmission Control Protocol)

-   TCP/IP 4 계층 중 3계층인 전송 계층에서 사용하는 프로토콜로, **데이터를 신뢰성 있게 주고받기 위한** 프로토콜이다.
-   여기서 ‘신뢰성 있다’는 말은 통신할 때 **패킷을 유실하지 않고 확실하게 전달**한다는 의미이다.
-   이처럼 TCP는 신뢰성 있는 데이터 전송 기법(연결 설정과 해제, 흐름 제어, 혼잡 제어)을 포함하고 있어 HTTP 통신이나 이메일 전송, 파일 전송에 적합하다.
-   하지만 신뢰성이 높은 대신에 전송 속도가 느리다는 것이 단점이다.

### UDP (User Datagram Protocol)

-   전송 계층에서 사용하는 또 다른 프로토콜인 UDP는, 데이터를 빠르고 간결하게 보내는 데 유용하다.
-   TCP와 달리 비연결형으로 동작하기 때문에 연결 설정을 하지 않고 데이터를 전송한다.
-   따라서 매번 연결 설정을 해야 하는 TCP보다 데이터를 더 빠르게 보내지만, 연결 설정이 없기 때문에 TCP와 같은 흐름 제어 및 혼잡 제어가 불가능하다. → 즉 데이터 전송에 대한 신뢰성을 보장하지 못한다.
-   UDP는 신뢰성 있는 데이터 전송보다 속도가 중요한 인터넷 전화, 멀티미디어 스트리밍, 온라인 게임 등에 사용한다.

### QUIC (Quick UDP Internet Connection)

-   전송 계층에서 사용하는 또 다른 프로토콜인 QUIC는, TCP의 신뢰성과 UDP의 속도를 겸비한 새로운 프로토콜이다.
-   QUIC 프로토콜은 그 뼈대가 UDP라 기본적으로 속도가 빠르고, UDP를 커스터마이징해 TCP처럼 신뢰성 있는 데이터 전송을 보장한다.
    |           | TCP                                         | UDP                             | QUIC                               |
    | --------- | ------------------------------------------- | ------------------------------- | ---------------------------------- |
    | 연결 방식 | 연결형                                      | 비연결형                        | 비연결형                           |
    | 신뢰성    | 신뢰성 있음                                 | 신뢰성 없음                     | 신뢰성 있음                        |
    | 속도      | 느림                                        | 빠름                            | 빠름                               |
    | 용도      | 정확한 데이터 전송이 보장되어야 하는 서비스 | 안정성보다 속도가 중요한 서비스 | 신뢰성과 속도가 모두 중요한 서비스 |

### HTTP (HyperText Transfer Protocol)

-   TCP/IP 4 계층 중 최상위 계층인 응용 계층에서 사용하는 프로토콜로, **하이퍼텍스트 문서, 즉 HTML 문서를 전송**하기 위한 프로토콜이다.
-   클라이언트-서버 구조
    -   HTTP는 클라이언트가 서버에 데이터를 요청하고(request), 해당 요청에 대해 서버가 응답하는(response) 구조로 동작한다.
-   비연결성
    -   HTTP에서는 클라이언트가 서버로 작업을 요청해 응답을 받으면 연결을 끊는데, 이를 비연결성(connectionless) 이라고 한다.
    -   여러 클라이언트와 통신하는 서버 입장에서는 요청이 있을 때만 연결을 유지하면 되므로 통신에 따를 과부하가 줄어든다.
    -   하지만 요청이 있을 때마다 연결 설정을 새로 해야 하는 부담이 따른다.
-   무상태
    -   HTTP는 상태를 유지하지 않는 무상태(stateless) 프로토콜이다.
    -   상태를 유지하지 않는다는 것은 서버가 클라이언트의 이전 요청이나 세션 정보를 기억하지 않는다는 것을 의한다.
    -   클라이언트가 요청하는 각각의 정보는 독립적으로 처리되며, 서버는 클라이언트의 이전 상태에 대한 정보를 정하지 않는다.
-   HTTP 메시지
    -   응용 계층에서 데이터를 요청하거나 응답할 때는 서로 다른 서비스 간에 원활하게 주고받을 수 있도록 데이터를 일정한 형식에 맞추는데, 이때 사용하는 데이터 형식을 HTTP메시지라고 한다.
    -   HTTP 메시지는 크게 클라이언트가 서버에 요청할 때 사용하는 요청 메시지, 서버가 클라이언트에 응답할 때 사용하는 응답 메시지로 구분된다.
    -   이 두 메시지는 모두 시작 행(start line), 헤더(header), 공백 행(blank line), 본문(body)으로 구성되고, 세부적인 내용은 조금씩 다르다.
-   HTTP 헤더
    -   HTTP 헤더는 HTTP 요청 메시지와 응답 메시지의 부가 정보가 포함된 부분이다.
    -   헤더는 개발자가 별도로 설정하지 않아도 기본 정보가 자동으로 포함되어 전송된다.
    -   하지만 개발자가 인위적으로 헤더의 값을 추가할 수도 있기 때문에, 개발자라면 헤더의 세부 내용을 파악하고 다룰 둘 알아야 한다.
    -   General: 요청 또는 응답의 일반적인 헤더 정보이다. Request URL(요청을 보내는 서버 주소), Request Method(요청 메서드), Status Code(상태 코드) 등이 포함된다.
    -   Response Headers: 응답에만 사용하는 헤더 정보이다. 여기에는 Set-Cookie(클라이언트에 쿠키 생성), Server(응답을 생성한 서버의 소프트웨어나 버전 정보), Location(페이지 이동 지시) 등이 포함된다.
    -   Request Headers: 요청에만 사용하는 헤더 정보로, 보통은 HTTP 통신에서 가장 많은 헤더 정보를 담고 있다. Host(요청을 보내는 서버 주소), User-Agent(클라이언트 정보),Accept(허용 미디어 범위) 등이 포함된다.
-   HTTP 메서드
    -   HTTP 메서드는 클라이언트에서 서버로 어떤 작업을 요청할 때 요청의 목적과 종류를 알리는 용도로 상용된다.
        | 메서드  | 설명                                                             |
        | ------- | ---------------------------------------------------------------- |
        | GET     | 데이터 조회를 요청                                               |
        | POST    | 데이터를 전송해 등록을 요청                                      |
        | PUT     | 데이터 전체의 수정을 요청                                        |
        | PATCH   | 데이터 일부의 수정을 요청                                        |
        | DELETE  | 데이터 삭제를 요청                                               |
        | OPTIONS | 서버가 어떤 메서드를 지원하는지 알아볼 때 사용                   |
        | HEAD    | GET 메서드와 동일한 역할을 하지만 시작 행과 헤더만 반환          |
        | TRACE   | 클라이언트와 서버 간에 루프백 테스트(loopback test)를 할 때 사용 |
        | CONNECT | 프록시 서버 같은 중간 서버 경유를 요청                           |
-   HTTP 상태 코드
    -   클라이언트가 HTTP 메서드 중 하나로 서버에 어떤 요청을 보내면 서버는 이 요청에 대한 응답 결과를 상태 코드와 함께 전달한다.
    -   상태 코드는 다음과 같이 5개의 그룹으로 나뉜다.
        | 그룹      | 상태 코드                                                          | 설명                                                                    |
        | --------- | ------------------------------------------------------------------ | ----------------------------------------------------------------------- |
        | 1xx       | 정보 응답                                                          | 요청에 대한 처리하 진행 중이라는 의미                                   |
        | 2xx       | 성공 응답                                                          | 요청에 대한 응답을 성공적으로 완료했다는 의미                           |
        | 3xx       | 리다이렉션                                                         |
        | 메시지    | 요청을 완료하기 위해 리다이렉션(새 URL로 재요청)이 필요하다는 의미 |
        | 4xx       | 클라이언트                                                         |
        | 오류 응답 | 요청을 처리하던 중 클라이언트 오류가 발생했다는 의미               |
        | 5xx       | 서버 오류 응답                                                     | 클라이언트의 요청을 받았으나 적절히 처리하지 못해 응답할 수 없다는 의미 |
-   HTTPS 보안 프로토콜
    -   HTTP는 암호화되지 않은 데이터를 전송하기 때문에 비밀번호 같은 개인 정보를 주고받는데에는 위험이 따른다. HTTPS는 그러한 데이터를 보다 안전하게 주고받을 수 있도록 개발된 프로토콜이다.
    -   HTTP가 TCP/UDP 위에서 동작한다면, HTTPS는 TCP/UDP 위에 SSL(Secure Sockets Layer) 프로토콜을 추가해 데이터 전송 시 암호화를 수행한다.
    -   HTTPS의 또 다른 이점은 웹사이트 노출이 HTTP보다 유리하다는 것이다. 검색 엔진은 HTTPS로 제공되는 사이트에 우선순위를 부여하기 때문에 HTTPS는 검색 엔진 최적화에서도 매우 중요한 요소이다.
